webpackJsonp([1],{"+kdR":function(e,t){},"4C3I":function(e,t){},Clr0:function(e,t,n){"use strict";var o=n("xJbB"),s=n("bgPM"),r=n("MVok"),a=n("mtWM"),i=n.n(a);class l{static RequestOptionExample(){return{method:"",url:"",data:{},headers:{},transformResponse:function(e){}}}request(e){}}function u(){return{}}class c{constructor(e,t,n,o){n||(n=u),this._server=e,this._baseUrl=t,this._uri="",this._params=null,this._data=null,this._successFunc=function(e){console.log("Request.success:"+e)},this._errorFunc=function(e,t,n){console.log("Request.error:"+e+"_"+t+","+n)},this._transformResponseFunc=null,this._headerPluginFunc=n,this._resultCodeHandlers=o}uri(e){return this._uri=e,this}url(e){return e&&this.uri(e),this._baseUrl+this._uri}transformResponse(e){return this._transformResponse=e,this}headers(e){return this._headers=e,this}params(e){return this._params=e,this}data(e){return this._data=e,this}success(e){return this._successFunc=e,this}error(e){return this._errorFunc=e,this}post(){this._request("post")}get(){this._request("get")}_request(e){const t=this._successFunc,n=this._errorFunc;var o,s=this._headers;if(this._headerPluginFunc&&(s=Object.assign(s||{},this._headerPluginFunc())),s)for(let e in s)s[e]=encodeURI(s[e]);o=this._transformResponse?this._server.request({method:e,url:this._uri,params:this._params,data:this._data,headers:s,transformResponse:this._transformResponse}):this._server.request({method:e,url:this._uri,params:this._params,data:this._data,headers:s});var r=this._resultCodeHandlers;function a(e,o,s){if(r){let t=r[e+"_"+o];if(t||(t=r[o]),t&&!t(e,o,s))return}0===o?t(s):n(e,o,s)}o.then(function(e){200===e.status?0===e.data.code?a(null,0,e.data.data):a(e.data.module,e.data.code,e.data.message):a("browser_net",-1,e.status+","+e.statusText)}).catch(function(e){a("browser_local",-2,e)})}}class m{constructor(e,t,n){this.mockObj=n,this.serverName=e,this.baseURL=t}request(e){e||(e=l.RequestOptionExample());var t=this._request(e.method,e.url,e.data,e.headers);return 200===t.status&&0===t.data.code&&void 0===t.data.data&&e.url.indexOf("/someurl")<0&&alert(e.url+"\n请开发人员添加演示版Mock数据！！！"),{then:function(e){return t.error||e(t),this},catch:function(e){return t.error&&e(t.error),this}}}_request(e,t,n,o){console.log("------------------ mock post ------------------ ["),console.log(t),console.log(n),console.log(o);let s=this.mockObj[t];if("function"==typeof(s="function"==typeof this.mockObj.request?this.mockObj.request(e,t,n,o):this.mockObj[t])&&(s=s(n,o)),console.log("----------------- mock result ----------------- ]  "),console.log(s),s){if(s.isHttpResponse)return s;if(s.isApiResponse)return{isHttpResponse:!0,status:200,statusText:"OK",headers:{},config:{},data:s}}return{isHttpResponse:!0,status:200,statusText:"OK",headers:{},config:{},data:{isApiResponse:!0,module:"",code:0,message:"",data:s}}}}i.a.defaults.headers.post["Content-Type"]="application/json;charset=utf-8";class d{constructor(e,t,n){this.serverMap={},this.serverBaseConfig=e,this.mockModules=t,this._options=n?Object.assign({},n):d.OptionsExample()}init(e,t,n){this.serverBaseConfig=e,this.mockModules=t,n&&(this._options=Object.assign({},n))}static OptionsExample(){return{getHttpHeaders:function(){return{}},errorHandlers:{moduleabc_codexyz:function(e,t,n){return!0}}}}options(e){this._options=Object.assign(this._options,e)}createSelfAxiosServer(){return i.a.create()}createAxiosServer(e){return void 0===this._options.timeout&&(this._options.timeout=1e4),i.a.create({baseURL:this.serverBaseConfig[e],timeout:this._options.timeout})}createMockServer(e){return new m(e,this.serverBaseConfig[e],this.mockModules[e])}server(e){e||(e=d.Main());let t=this.serverMap[e];return t||(t=e===d.Self()?this.createSelfAxiosServer():this.mockModules?this.createMockServer(e):this.createAxiosServer(e),this.serverMap[e]=t,t)}request(e){e||(e=d.Main());let t=this.serverBaseConfig[e];return t||(t=""),new c(this.server(e),t,this._options.getHttpHeaders,this._options.errorHandlers)}static Main(){return"main"}static Self(){return"~"}}var h={Request:c,MockServer:m,Servers:d},f=n("v+tS"),g={Common:{True:!0,False:!1,Void:"void"},envconf:{env:"serverEnvName"}},p={returnApiResponse:{module:"test",code:10001,message:"错误的ID，balahbalah",data:null},returnHttpResponseNot200:{isHttpResponse:!0,status:404,statusText:"OK",headers:{},config:{},data:null},returnHttpRequestError:{isHttpResponse:!0,error:"Network Error",status:null,statusText:"OK",headers:{},config:{},data:null}},v={Common:{True:!0,False:!1,Void:"void"},envconf:{someconf:"somevalue"}},_={returnApiResponse:{module:"test",code:10001,message:"错误的ID，balahbalah",data:null},returnHttpResponseNot200:{isHttpResponse:!0,status:404,statusText:"OK",headers:{},config:{},data:null},returnHttpRequestError:{isHttpResponse:!0,error:"Network Error",status:null,statusText:"OK",headers:{},config:{},data:null}},C={main:{"/envconf/v1/":g.envconf,"/example/ReturnVoid":g.Common.Void,"/example/ApiResponse":p.returnApiResponse,"/example/HttpResponse/Not200:":p.returnHttpResponseNot200,"/example/HttpResponse/RequestError:":p.returnHttpRequestError},adminuser:{"/envconf/v1/":v.envconf,"/session/v1/logout":v.Common.Void,"/session/v1/check":!0,"/example/ReturnVoid":v.Common.Void,"/example/ApiResponse":_.returnApiResponse,"/example/HttpResponse/Not200:":_.returnHttpResponseNot200,"/example/HttpResponse/RequestError:":_.returnHttpRequestError}};o.a.init(f.a.systemId,f.a.component,{defaultNotLoginHandler:function(){s.a.SonFunc.sendErrorToParent(o.a.ERROR_MODULE,o.a.ErrorCode.NOT_LOGIN.v)},defaultNoPageAuthHandler:function(){s.a.SonFunc.sendErrorToParent(o.a.ERROR_MODULE,o.a.ErrorCode.PAGE_AUTH.v)}});var y={};y[o.a.ErrorCode.NOT_LOGIN.v]=s.a.SonFunc.sendErrorToParent,y[o.a.ErrorCode.URI_AUTH.v]=s.a.SonFunc.sendErrorToParent,y[o.a.ErrorCode.DATA_AUTH.v]=s.a.SonFunc.sendErrorToParent,y[o.a.ErrorCode.KICKED_OUT.v]=s.a.SonFunc.sendErrorToParent;var b=new h.Servers(f.a.serverBase,f.a.mock?C:null,{getHttpHeaders:function(){return o.a.httpHeaders()},errorHandlers:y});function x(){return b.request(b.Self())}function A(e,t){return f.a.pageBase?f.a.pageBase[e]+t:f.a.serverBase[e]+t}function O(e,t){if(null===e)return"";if(e.length>2&&"/"===e.charAt(0))return A(e.substring(1,e.indexOf("/",2)),e.substr(e.indexOf("/",2)));if(!t&&x.location&&x.location.hash&&(t=x.location.hash.substr(1)),t){t=r.a.getAbsoluteUrl(t);var n=r.a.getQueryHashString(e),o=r.a.getAbsoluteUrl(e,t);e=r.a.getRelativePath(o)+n}return e}s.a.Son.option({componentName:f.a.component,syncParentEnvFunc:function(e){f.a.syncParent(e),o.a.init(f.a.systemId,f.a.component),b.init(f.a.serverBase,f.a.mock?C:null)},loginCtxNotifyFunc:function(e,t){o.a.setLoginCtx(e,t)}});t.a={$:function(e){return b.request(e)},main:function(){return b.request(b.Main())},self:x,setErrorHandler:function(e,t){y[e]=t},componentPageUrl:A,pageUrl:O,fullComponentPageUrl:function(e,t){return r.a.getAbsoluteUrl(A(e,t))},fullPageUrl:function(e){return r.a.getAbsoluteUrl(O(e))}}},Dve3:function(e,t){},FD0e:function(e,t,n){"use strict";var o=n("mvHQ"),s=n.n(o),r=n("woOf"),a=n.n(r),i=(n("sfy8"),{name:"DemoLoginCtx",data:function(){return{initAuthorityKeys:["XXX"],initSystemId:"",initDemoAuthCtx:{systemId:this.initSystemId,myAuId:1,myLoginName:"mr_zhang",myRealName:"张飞",myFirmId:1},ctx:this.defaultCtx()}},computed:{ctxKeys:function(){var e=[];for(var t in this.ctx.demoAuthCtx)e.push(t);return e}},created:function(){},methods:{init:function(e,t,n){if(this.initSystemId=e,t)for(var o=0;o<t.length;o++)this.initAuthorityKeys.push(t[o]);this.initDemoAuthCtx=a()(this.initDemoAuthCtx,n);var s=JSON.parse(window.localStorage.getItem("Demo.AdminAuthCtx."+this.initSystemId));return s&&s.demoAuthCtx?this.ctx=s:this.ctx=this.defaultCtx(),this.ctx.demoAuthCtx.systemId},defaultCtx:function(){return{authorityKeys:this.initAuthorityKeys,demoAuthCtx:this.initDemoAuthCtx}},onSubmit:function(){window.localStorage.setItem("Demo.AdminAuthCtx."+this.initSystemId,s()(this.ctx)),this.$emit("submit",this.ctx)},onReset:function(){window.localStorage.removeItem("Demo.AdminAuthCtx."+this.initSystemId),this.ctx=this.defaultCtx(),this.$emit("submit",this.ctx)},visibleChanged:function(e){e&&this.$refs.dropdown.triggerElm.removeEventListener("keydown",this.$refs.dropdown.handleTriggerKeyDown)}}}),l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dropdown",{ref:"dropdown",attrs:{trigger:"hover","hide-on-click":!1,size:"small"},on:{"visible-change":e.visibleChanged}},[n("el-button",{attrs:{type:"primary",size:"small"}},[n("span",{staticClass:"hidden-xs-only"},[e._v("登录权限上下文")]),n("span",{staticClass:"hidden-sm-and-up"},[e._v("权限")]),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),n("el-dropdown-menu",{staticClass:"demo-menu-form-box",attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-form",[e._l(e.ctxKeys,function(t){return n("el-form-item",{key:t,attrs:{label:t}},["[object Array]"===Object.prototype.toString.call(e.ctx.demoAuthCtx[t])?n("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"","no-data-text":"请输入，回车添加一个条目",placeholder:"请输入多个值"},model:{value:e.ctx.demoAuthCtx[t],callback:function(n){e.$set(e.ctx.demoAuthCtx,t,n)},expression:"ctx.demoAuthCtx[ctxKey]"}}):n("el-input",{model:{value:e.ctx.demoAuthCtx[t],callback:function(n){e.$set(e.ctx.demoAuthCtx,t,n)},expression:"ctx.demoAuthCtx[ctxKey]"}})],1)}),e._v(" "),n("el-form-item",{attrs:{label:"authorityKeys"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"","allow-create":"","default-first-option":"","no-data-text":"请输入，回车添加一个条目",placeholder:"请输入多个值"},model:{value:e.ctx.authorityKeys,callback:function(t){e.$set(e.ctx,"authorityKeys",t)},expression:"ctx.authorityKeys"}})],1),e._v(" "),n("hr",{staticStyle:{margin:"20px 0px"}}),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("设置 并 刷新页面")]),e._v(" "),n("el-button",{attrs:{type:"default"},on:{click:e.onReset}},[e._v("重置")])],1)],2)],1)],1)},staticRenderFns:[]};var u=n("VU/8")(i,l,!1,function(e){n("4C3I")},"data-v-eaeced06",null);t.a=u.exports},FMef:function(e,t,n){"use strict";t.a=[{demo:!0,name:"demo",_title:"示例页面组",submenus:[{url:"demo/table.html",title:"表格示例页"},{url:"demo/form.html",title:"表单示例页"}]},{name:"dashboard.html",url:"/loan.report/dashboard.html",title:"数据概览"},{name:"risked.html",url:"/loan.mgmt/risked.html",title:"待审核"},{name:"to-pay.html",url:"/loan.mgmt/to-pay.html",title:"待放款"},{name:"unrepaid.html",url:"/loan.mgmt/unrepaid.html",title:"待还款"},{name:"marked",url:"/loan.mgmt/repaid-marked.html",title:"待财务提现"},{name:"overdue",url:"/loan.mgmt/unrepaid-overdue.html?overdueDaysGe=1",title:"已逾期"},{name:"loan-list",title:"借款列表",submenus:[{url:"/loan.mgmt/loan-list.html",title:"借款查询列表"},{url:"/loan.mgmt/repaying-list.html",title:"账单查询列表"},{url:"/loan.mgmt/applied.html",title:"待风控评估"},{url:"/loan.mgmt/paying.html",title:"系统放款中"},{url:"/loan.mgmt/refused.html",title:"已拒绝的申请"}]},{name:"reports",title:"贷款报表",submenus:[{url:"/loan.report/dayloanweekhistory.html",title:"总借还款报表"},{url:"/loan.report/dayloanweeksum.html",title:"周借还款报表"},{url:"/loan.report/dayloanweekoverdue.html",title:"逾期还款报表"}]},{name:"csm_reports",title:"客户经理报表",submenus:[{url:"/loan.report/accountManagerDay.html",title:"日报表"},{url:"/loan.report/accountManagerMonth.html",title:"月报表"}]},{name:"users_groups",title:"系统用户",submenus:[{url:"/adminuser/user-list.html",title:"用户列表"},{url:"/adminuser/group-list.html",title:"组列表"}]},{name:"orgnizations",url:"/adminuser/institutions-list.html",title:"机构列表"},{name:"channel_report",title:"渠道管理",submenus:[{url:"/channel_report/report-list.html",title:"渠道报表"},{url:"/channel_report/channel-list.html",title:"渠道列表"}]}]},Haiy:function(e,t,n){"use strict";t.a={"/main":{"/demo/table.html":{XXX:{doXxxThing:!0}},"/demo/form.html":{XX2:{doXx2Thing:!0}}},"/adminuser":{"/user-list.html":{SYSTEM:{systemManagement:!0},STAFF:{}},"/group-list.html":{SYSTEM:{systemManagement:!0},STAFF:{}},"/institutions-list.html":{SYSTEM:{systemManagement:!0},ORGNAZATION:{}},"/create-user.html":{SYSTEM:{systemManagement:!0},STAFF:{}},"/create-group.html":{SYSTEM:{systemManagement:!0},STAFF:{}},"/create-institutions.html":{SYSTEM:{systemManagement:!0},ORGNAZATION:{}}},"/loan.mgmt":{"/applied.html":{AUDIT:{}},"/risked.html":{AUDIT:{}},"/audited.html":{AUDIT:{}},"/signed.html":{AUDIT:{}},"/to-pay.html":{AUDIT:{},FINANCE:{}},"/unrepaid.html":{COLLECT:{}},"/repaid-marked.html":{COLLECT:{},FINANCE:{}},"/unrepaid-overdue.html":{COLLECT:{}},"/loan-list.html":{AUDIT:{},MANAGER_LOAN_VIEW:{}},"/repaying-list.html":{MANAGER_LOAN_VIEW:{}},"/risk-report.html":{AUDIT:{},COLLECT:{},MANAGER_LOAN_VIEW:{}},"/paying.html":{AUDIT:{}},"/timeout-applies.html":{AUDIT:{}},"/refused.html":{AUDIT:{}},"/user-edit.html":{SYSTEM:{systemManagement:!0},STAFF:{}}},"/loan.report":{"/dashboard.html":{REPORT:{}},"/dayloanweekhistory.html":{REPORT:{}},"/dayloanweeksum.html":{REPORT:{}},"/dayloanweekoverdue.html":{REPORT:{}},"/accountManagerDay.html":{REPORT:{}},"/accountManagerMonth.html":{REPORT:{}},"/daycsmperformance.html":{REPORT:{}}},"/instuff":{"/risk-report.html":{AUDIT:{},COLLECT:{},MANAGER_LOAN_VIEW:{}}},"/channel_report":{"/report-list.html":{MANAGER_CHANNEL:{},PARTNER_CHANNEL:{}},"/channel-list.html":{MANAGER_CHANNEL:{}},"/channel-setup.html":{MANAGER_CHANNEL:{}}}}},MVok:function(e,t,n){"use strict";var o=n("1nuA"),s=n.n(o),r=n("UZ5h");n.n(r);const a={Request:Request,emptyStr:function(e){return void 0===e||null===e||""===e},emptyArray:function(e){return void 0===e||null===e||e===[]},notEmptyStr:function(e){return!(void 0===e||null===e||""===e)},notEmptyArray:function(e){return!(void 0===e||null===e||e===[])},enumDef:function(e){void 0===e.UNDEFINED&&(e.UNDEFINED=[null,null]);let t=[];for(var n in e)e[n].CONST_NAME=n,e[n].v=e[n][0],e[n].s=e[n][1],"UNDEFINED"!==n&&t.push({CONST_NAME:n,v:e[n].v,s:e[n].s});return e.enums=t,e.name=function(t,n){for(var o in e)if(e[o].v===t)return e[o].s;return void 0!==n&&null!==n?n:null===e.UNDEFINED.s?"["+t+"]":e.UNDEFINED.s},e.s=e.name,e.value=function(t,n){for(var o in e)if(e[o].s===t)return e[o].v;return void 0!==n&&null!==n?n:null===e.UNDEFINED.v?"[["+t+"]]":e.UNDEFINED.v},e.v=e.value,void 0===e.valueOf&&(e.valueOf=function(e){return parseInt(e)}),e},getQueryObj:function(e){e||(e=self.location.href);let t=new r.Url;return t.parse(e,!0),t.query?t.query:{}},getPageQueryObj:function(){return this.getQueryObj(self.location.href)},setQueryObj:function(e,t){return t?e+"?"+s.a.stringify(t):e},goUrl:function(e,t){e=this.setQueryObj(e,t),self.location.href=e},getPathQueryHash:function(e){e||(e=self.location.href);let t=e.indexOf("http");return 0===t?(t=e.indexOf("/",8))<0?"/":e.substr(t):e},getPathQuery:function(e){e||(e=self.location.href);let t=e.indexOf("http");if(0===t){if((t=e.indexOf("/",8))<0)return"/";e=e.substr(t)}return e=(t=e.indexOf("#"))>0?e.substr(0,t):e},getQueryHashString:function(e){e||(e=self.location.href);let t=e.indexOf("http");if(0===t){if((t=e.indexOf("/",8))<0)return"";e=e.substr(t)}return(t=e.indexOf("?"))>0?e.substr(t):(t=e.indexOf("#"))>0?e.substr(t):""},withoutQueryHash:function(e){e||(e=self.location.href);let t=e.indexOf("?");return t>0?e.substr(0,t):(t=e.indexOf("#"))>0?e.substr(0,t):e},getPath:function(e){e||(e=self.location.href);let t=e.indexOf("http");if(0===t){if((t=e.indexOf("/",8))<0)return"/";e=e.substr(t)}return e=(t=(e=(t=e.indexOf("?"))>0?e.substr(0,t):e).indexOf("#"))>0?e.substr(0,t):e},getAbsoluteUrl:function(e,t){if(0===e.indexOf("http"))return e;t||(t=self.location.href);let n=-1;if(0===e.indexOf("/"))return n=t.indexOf("/",8),t.substr(0,n)+e;let o=t;n=(o=(n=(o=(n=o.indexOf("?"))>0?o.substr(0,n):o).indexOf("#"))>0?o.substr(0,n):o).indexOf("/",8);let s=o.substr(0,n);for(n=(o=o.substr(n)).lastIndexOf("/")+1,o=o.substr(0,n);0===e.indexOf("./");)e=e.substr(2);for(;0===e.indexOf("../");)e=e.substr(3),n-=1,n=(o=o.substr(0,n)).lastIndexOf("/")+1,o=o.substr(0,n);return o=s+o+e},getAbsolutePath:function(e,t){return this.getAbsoluteUrl(e,t)},getRelativePath:function(e,t){if(0!==e.indexOf("http"))return this.getPath(e);t||(t=self.location.href);let n=this.getPath(e),o=this.getPath(t),s=n.split("/"),r=o.split("/"),a=0,i="",l=0;for(;l<s.length-1&&l<r.length-1;l++)0===i.length&&s[l]===r[l]?a++:i+="../";for(;l<r.length-1;l++)i+="../";return i+s.slice(a).join("/")},indexOf:function(e,t){for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1},contains:function(e,t){return this.indexOf(e,t)>=0},isObjectOrArray:function(e){return e===Object(e)},isJsonObj:function(e){return"object"==typeof e&&"[object object]"===Object.prototype.toString.call(e).toLowerCase()},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},cloneObj:function(e){if(!e)return e;if(this.isArray(e)){let t=[];for(let n=0;n<e.length;n++)t[n]=this.cloneObj(e[n]);return t}if(this.isJsonObj(e)){let t={};for(let n in e)t[n]=this.cloneObj(e[n]);return t}return e},equalObjs:function(e,t){var n=Object.getOwnPropertyNames(e),o=Object.getOwnPropertyNames(t);if(n.length!==o.length)return!1;for(var s=0;s<n.length;s++){var r=n[s];if(e[r]!==t[r])return!1}return!0},mergeObj:function(e,t){if(!t)return e;if(!1===this.isJsonObj(t))return t;if(!e)return Object.assign({},t);for(var n in t){let o=t[n];this.isJsonObj(o)?e[n]=this.mergeObj(e[n],o):e[n]=o}return e},indexOfByKey:function(e,t,n){for(var o=0;o<e.length;o++)if(e[o][t]===n)return o;return-1},mergeArrayByKey:function(e,t,n,o){for(var s=0;s<t.length;s++){let r=t[s][n],a=this.indexOfByKey(e,n,r);a>=0?e[a]=this.mergeObj(e[a],t[s]):o&&e.push(t[s])}return e},appendTpl:function(e,t){if(e&&t){if("string"==typeof e&&!(e=document.getElementById(e)))return;if("string"==typeof t&&!(t=document.getElementById(t)))return;e.innerHTML=e.innerHTML+"\n"+t.innerHTML}},initHtmlHead:function(e){window.addEventListener("load",()=>{document.title=e;let t=document.getElementsByTagName("head");this.appendTpl(t[0],"html-head")},!1)}},i=a.enumDef({YES:[!0,"是"],No:[!1,"否"]}),l=a.enumDef({ON:[!0,"开"],OFF:[!1,"关"]});a.YesNoChEnum=i,a.OnOffChEnum=l,t.a=a},P8vl:function(e,t){},TPTf:function(e,t,n){"use strict";t.a={siteConfig:{titleObj:{iconClass:"fa fa-paw",imgUrl:null,title:"风驰信贷系统",url:""}},menuViewConfig:[{name:"dashboard.html",iconClass:"fa fa-dashboard"},{hr:!0,name:"risked.html",iconClass:"fa fa-check-square-o"},{name:"audited.html",iconClass:"fa fa-pencil"},{name:"signed.html",iconClass:"fa fa-pencil-square-o"},{name:"to-pay.html",iconClass:"fa fa-send"},{name:"unrepaid.html",iconClass:"fa fa-hourglass-1"},{name:"marked",iconClass:"fa fa-ravelry"},{name:"overdue",iconClass:"fa fa-warning"},{name:"loan-list",iconClass:"fa fa-cubes"},{name:"orders.html",iconClass:"fa fa-cart-arrow-down"},{hr:!0,name:"reports",iconClass:"fa fa-bar-chart"},{name:"csm_reports",iconClass:"fa fa-area-chart"},{hr:!0,name:"users_groups",iconClass:"fa fa-group"},{name:"orgnizations",iconClass:"fa fa-institution"},{name:"demo",iconClass:"el-icon-menu"},{name:"channel_report",iconClass:"fa fa-bar-chart-o"}],demoAuthorityKeys:["ABC","AUDIT","COLLECT","REPORT","STAFF","MANAGER_LOAN_VIEW","ORGNAZATION"],defaultPageTip:["这种情况点这里","那种情况点那里"],pageTips:{"demo-table.html":["表格页的操作提示"],"demo-form.html":["表单页的操作提示，","换行，balabala"]}}},bgPM:function(e,t,n){"use strict";const o={onMessageFunc:function(e,t){},onSonCreatedFunc:function(e,t){},onSonFlowDoneFunc:function(e,t,n){},onSonErrorFunc:function(e,t,n,o,s){},sonGoUrlFunc:function(e,t,n){}};class s{constructor(e){this._options={},!1!==e&&this.init(e)}init(e){e||(e=o),this._options=Object.assign(this._options,e);var t=this._options;function n(e){if(e.data&&"string"==typeof e.data&&0===e.data.indexOf("iframemsg")){var n=e.data.substr(9),o=document.getElementById(e.source.name);(n=JSON.parse(n)).iframeHeight&&(o.style.height=n.iframeHeight+"px"),n.onCreated&&t.onSonCreatedFunc&&t.onSonCreatedFunc(o,n.pageUrl),n.flowDone&&t.onSonFlowDoneFunc&&t.onSonFlowDoneFunc(o,n.pageUrl,n.data),n.goUrl&&t.sonGoUrlFunc(o,n.url,n.target,n.pageUrl),t.onMessageFunc&&t.onMessageFunc(o,n),n.errorCode>0&&t.onSonErrorFunc&&t.onSonErrorFunc(o,n.pageUrl,n.errorModule,n.errorCode,n.errorMsg)}}void 0!==window.addEventListener?window.addEventListener("message",n,!1):void 0!==window.attachEvent&&window.attachEvent("onmessage",n)}option(e){e&&(this._options=Object.assign(this._options,e))}send(e,t){"string"==typeof e&&(e=document.getElementById(e)),e.contentWindow.postMessage("parentframemsg"+JSON.stringify(t),"*")}sendGoUrl(e,t){this.send(e,{goUrl:!0,url:t})}sendLoginCtx(e,t,n,o,s){this.send(e,{reload:!0,env:t,loginCtx:n,pageConfigs:o,data:s})}}const r={componentName:"",syncParentEnvFunc:function(e){},loginCtxNotifyFunc:function(e,t){},onMessageFunc:function(e){},reloadFunc:function(e){}};class a{constructor(e){this._options={},!1!==e&&this.init(e)}init(e){e||(e=r),this._options=Object.assign(this._options,e);var t=this._options;function n(e){if(e.data&&"string"==typeof e.data&&0===e.data.indexOf("parentframemsg")){var n=e.data.substr(14);(n=JSON.parse(n)).env&&t.syncParentEnvFunc(n.env),n.reload&&(t.loginCtxNotifyFunc(n.loginCtx,n.pageConfigs),t.reloadFunc&&(n.data||(n.data={}),t.reloadFunc(n.data))),n.goUrl&&(-1===n.url?history.go(-1):self.location.href=n.url),t.onMessageFunc&&t.onMessageFunc(n)}}void 0!==window.addEventListener?window.addEventListener("message",n,!1):void 0!==window.attachEvent&&window.attachEvent("onmessage",n),this.sendOnCreated()}option(e){e&&(this._options=Object.assign(this._options,e))}send(e){e.pageUrl=self.location.href,e.sonComponent=this._options.componentName,window.parent.postMessage("iframemsg"+JSON.stringify(e),"*")}sendOnCreated(){this.send({onCreated:!0,iframeHeight:document.body.scrollHeight})}sendIframeHeight(){this.send({iframeHeight:document.body.scrollHeight})}sendFlowDone(e){this.send({flowDone:!0,data:e})}sendGoUrl(e,t){this.send({goUrl:!0,url:e,target:t})}sendError(e,t,n){this.send({errorModule:e,errorCode:t,errorMsg:n})}}const i=new s(!1),l=new a(!1),u={sendErrorToParent:function(e,t,n){l.sendError(e,t,n)}};t.a={ParentFrame:s,SonFrame:a,Parent:i,Son:l,SonFunc:u}},hlgy:function(e,t,n){"use strict";var o=n("+kdR"),s=(n.n(o),n("Dve3")),r=(n.n(s),n("MVok")),a={};for(var i in r.a)a[i]=r.a[i];t.a=a},"qQ5+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),s=n("mvHQ"),r=n.n(s),a=(n("tvR6"),n("qBF2")),i=n.n(a),l=(n("sfy8"),n("bgPM")),u=n("xJbB"),c=n("v+tS"),m=n("hlgy"),d=n("Clr0"),h=n("Haiy"),f=n("FMef"),g=n("TPTf"),p=n("FD0e");o.default.use(i.a);var v=i.a.Message;m.a.initHtmlHead("风驰-现金贷");var _={siteConfig:g.a.siteConfig,menuAuth:!1,menuFloat:!1,menuShow:!0,menuCollapse:!1,menuList:m.a.mergeArrayByKey(f.a,g.a.menuViewConfig,"name"),mainFrameSrc:self.location.hash?self.location.hash.substr(1):"",selectedMenu:m.a.getPath(self.location.hash?self.location.hash.substr(1):""),urlBeforeForceLogin:null,lastErrorCode:null,Auth:u.a,Server:d.a,DemoSetting:g.a,Env:c.a},C=document.getElementById("mainframe"),y=void 0,b={components:{DemoLoginCtx:p.a},data:function(){return _},computed:{},created:function(){(y=this).loadEnvconf(),document.body.offsetWidth>1056?_.menuCollapse=!1:document.body.offsetWidth>768?_.menuCollapse=!0:(_.menuShow=!1,_.menuFloat=!0);var e={};for(var t in h.a)for(var n in h.a[t]){e[d.a.fullPageUrl(t+n)]=h.a[t][n]}u.a.setPageAuthConfigs(e)},mounted:function(){if(u.a.setLoginCtx(JSON.parse(window.localStorage.getItem("Admin.Login.Ctx."+c.a.systemId))),console.log("loginCtx:"+r()(u.a.getLoginCtx())),c.a.mock){var e=this.$refs.demoLoginCtx.init(c.a.systemId,g.a.demoAuthorityKeys);e&&(c.a.systemId=e)}C=document.getElementById("mainframe"),l.a.Parent.init({onSonCreatedFunc:this.onSonCreated,onSonFlowDoneFunc:this.onSonFlowDone,onSonErrorFunc:this.onSonError,sonGoUrlFunc:this.sonGoUrl}),y.refreshMenuAuth(),y.checkLogin()},methods:{onLoadError:function(e,t,n){v.error({duration:0,showClose:!0,message:"加载失败！"+e+"."+t+"/"+n})},onActionError:function(e,t,n){v.error({duration:0,showClose:!0,message:"操作失败！"+e+"."+t+"/"+n})},loadEnvconf:function(){d.a.$().uri("/envconf/v1/").success(function(e){c.a.switchEnv(e.env,"server")}).error(y.onLoadError).post()},menuTitleClicked:function(){y.mainFrameGoUrl(g.a.siteConfig.titleObj.url),_.menuShow=!1},onMenuSelect:function(e,t){document.body.scrollTop=document.documentElement.scrollTop=0,y.mainFrameGoUrl(e),_.menuShow=!1},refreshMenuAuth:function(e){e||(e=y.menuList);for(var t=u.a.getForbiddenPages(),n=0,o=0;o<e.length;o++){var s=e[o];if(s.submenus)y.refreshMenuAuth(s.submenus)>0?(s.auth=!0,n++):s.auth=!1;else if(s.url)t[m.a.withoutQueryHash(d.a.fullPageUrl(s.url))]?s.auth=!1:(s.auth=!0,n++);else s.auth=!0,n++}return e===y.menuList&&0===n?y.menuAuth=!1:y.menuAuth=!0,n},mainFrameGoUrl:function(e,t){""!==e?(t||(t=_.mainFrameSrc),e=d.a.pageUrl(e,t),_.mainFrameSrc=e+"#iframerand"+Math.random()):_.mainFrameSrc="",_.selectedMenu=e,history.replaceState("","","#"+e)},sonGoUrl:function(e,t,n,o){if(n)return t=d.a.pageUrl(t,o),void window.open(m.a.getPathQuery()+"#"+t,n);e===C?y.mainFrameGoUrl(t,o):(null===t&&(t=""),e.src=t)},onSonCreated:function(e,t){y.lastErrorCode=null;var n=m.a.getRelativePath(t);_.selectedMenu=n,history.replaceState("","","#"+n+m.a.getQueryHashString(t)),u.a.getLoginCtx()?l.a.Parent.sendLoginCtx(e.name,c.a,u.a.getLoginCtx(),u.a.getPageConfigs(d.a.fullPageUrl(n))):l.a.Parent.sendLoginCtx(e.name,c.a,null,null)},onSonFlowDone:function(e,t,n){y.lastErrorCode=null;var o=t.indexOf("?");if(o>0&&(t=t.substr(0,o)),(o=t.indexOf("#"))>0&&(t=t.substr(0,o)),"mainframe"===e.name)if(t===d.a.fullPageUrl("/adminuser/login.html")){if(n.logout)return void y.localLogout();y.onLogined(n)}else if(t===d.a.fullPageUrl("/adminuser/change-password.html"))n.logout&&y.localLogout();else if(t===d.a.fullPageUrl("/adminuser/create-user.html"))n&&n.customStuffKey&&(n.customStuffKey,y.mainFrameGoUrl("/loan.mgmt/user-edit.html?au="+encodeURIComponent(r()(n))));else if(t===d.a.fullPageUrl("/loan.mgmt/user-edit.html")&&n&&n.customStuffKey){var s=m.a.setQueryObj("/adminuser/create-user.html",n);y.mainFrameGoUrl(s)}},onSonError:function(e,t,n,o,s){if(y.lastErrorCode!==o)switch(y.lastErrorCode=o,o){case u.a.ErrorCode.NOT_LOGIN.v:v.error({duration:0,showClose:!0,message:"请先登录！"}),y.urlBeforeForceLogin=t,y.localLogout(!0);break;case u.a.ErrorCode.URI_AUTH.v:v.error({duration:0,showClose:!0,message:"您无该操作权限！"});break;case u.a.ErrorCode.DATA_AUTH.v:v.error({duration:0,showClose:!0,message:"数据权限错误！"});break;case u.a.ErrorCode.KICKED_OUT.v:v.error({duration:0,showClose:!0,message:"账号在他处登录，您已被迫下线！"}),y.localLogout(!0);break;case u.a.ErrorCode.PAGE_AUTH.v:v.error({duration:3e3,showClose:!0,message:"您无权访问该页面，为您跳转前一个页面！",onClose:function(){}});break;default:y.onActionError(n,o,s)}},onLogined:function(e){c.a.mock&&(e=this.$refs.demoLoginCtx.ctx),u.a.setLoginCtx(e),y.refreshMenuAuth(),l.a.Parent.sendLoginCtx("mainframe",c.a,u.a.getLoginCtx()),window.localStorage.setItem("Admin.Login.Ctx."+c.a.systemId,r()(u.a.getLoginCtx())),v.success({message:"登录成功！"}),window.localStorage.setItem("Admin.Login.checkTime."+c.a.systemId,(new Date).getTime()),y.urlBeforeForceLogin&&(y.mainFrameSrc=y.urlBeforeForceLogin,y.urlBeforeForceLogin=null)},localLogout:function(e){u.a.setLoginCtx(null),window.localStorage.removeItem("Admin.Login.checkTime."+c.a.systemId),window.localStorage.removeItem("Admin.Login.Ctx."+c.a.systemId),e||v.success({message:"已退出登录！"}),this.mainFrameGoUrl("/adminuser/login.html?logout="+Math.random())},checkLogin:function(){if(u.a.login){var e=window.localStorage.getItem("Admin.Login.checkTime."+c.a.systemId);e&&(e=parseInt(e),(new Date).getTime()-e<18e5)||d.a.$("adminuser").uri("/session/v1/check").data({systemId:c.a.systemId,sessionId:u.a.getLoginCtx().sessionId}).success(function(e){e?window.localStorage.setItem("Admin.Login.checkTime."+c.a.systemId,(new Date).getTime()):y.localLogout()}).error(y.onLoadError).post()}},onAccountCommand:function(e){switch(e){case"toLogin":this.mainFrameGoUrl("/adminuser/login.html");break;case"toLogout":d.a.$("adminuser").uri("/session/v1/logout").data({systemId:c.a.systemId,sessionId:u.a.getLoginCtx().sessionId}).success(function(e){}).error(y.onLoadError).post(),this.localLogout();break;case"toChangePassword":this.mainFrameGoUrl("/adminuser/change-password.html")}},onDemoAuthCtxSubmit:function(e){console.log(e),l.a.Parent.sendLoginCtx("mainframe",c.a,e,u.a.getPageConfigs(d.a.fullPageUrl(_.selectedMenu))),u.a.setLoginCtx(e),y.refreshMenuAuth()}}},x={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{attrs:{id:"page"}},[n("script",{attrs:{type:"text/template",id:"html-head"}},[e._v('\n    <link href="_lib/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">\n    <style> html,body { height: 100%; padding: 0px; margin: 0px; } </style>\n  ')]),e._v(" "),!e.menuAuth||e.menuFloat&&!e.menuShow?e._e():n("el-col",{class:e.menuFloat?"menubar floating":e.menuCollapse?"menubar collapse":"menubar",attrs:{xs:24,sm:7,md:5,lg:4}},[n("el-menu",{ref:"demoMenu",attrs:{"background-color":"#2A3F54","text-color":"#fff","active-text-color":"#ffd04b",mode:"vertical","default-active":e.selectedMenu,collapse:e.menuCollapse},on:{select:e.onMenuSelect}},[e.siteConfig&&e.siteConfig.titleObj?n("li",{staticClass:"site-title",on:{click:e.menuTitleClicked}},[e.siteConfig.titleObj.iconClass?n("i",{class:e.siteConfig.titleObj.iconClass}):e._e(),e._v(" "),e.siteConfig.titleObj.imgUrl?n("img",{attrs:{src:e.siteConfig.titleObj.imgUrl}}):e._e(),e._v(" "),n("div",{staticClass:"_title"},[e._v(e._s(e.siteConfig.titleObj.title))]),e._v(" "),n("div",{staticStyle:{clear:"both"}})]):e._e(),e._v(" "),e.menuList&&e.menuList.length?[e._l(e.menuList,function(t){return[t.hr&&t.auth?n("hr",{key:t.name+"__hr"}):e._e(),e._v(" "),t.submenus&&t.title&&!t.demo&&t.auth?n("el-submenu",{key:t.name,attrs:{index:t.name}},[n("template",{slot:"title"},[t.iconClass?n("i",{class:t.iconClass}):e._e(),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])]),e._v(" "),e._l(t.submenus,function(t){return t.auth?[t.submenus?n("el-submenu",{key:t.name,attrs:{index:t.name}},[n("template",{slot:"title"},[t.iconClass?n("i",{class:t.iconClass}):e._e(),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])]),e._v(" "),e._l(t.submenus,function(t){return t.auth?n("el-menu-item",{key:t.url,attrs:{index:t.url}},[e._v(e._s(t.title))]):e._e()})],2):n("el-menu-item",{key:t.url,attrs:{index:t.url}},[e._v(e._s(t.title))])]:e._e()})],2):e._e(),e._v(" "),!t.submenus&&t.title&&!t.demo&&t.auth?n("el-menu-item",{key:t.name?t.name:t.url,attrs:{index:t.url}},[t.iconClass?n("i",{class:t.iconClass}):e._e(),e._v(" "),n("template",{slot:"title"},[n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])])],2):e._e()]})]:[n("el-submenu",{key:"loading",attrs:{index:"loading"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-loading"}),e._v(" "),n("span",{staticClass:"hidden-xs-only",attrs:{slot:"title"},slot:"title"},[e._v("加载中...")])]),e._v(" "),n("el-menu-item-group",{staticClass:"hidden-sm-and-up"},[n("template",{slot:"title"},[e._v("加载中...")])],2)],2)]],2)],1),e._v(" "),n("el-col",{style:(e.menuAuth?e.menuCollapse&&!e.menuFloat?"width:calc(100% - 64px);":"":"width:100%;")+"height: 100%;",attrs:{xs:24,sm:17,md:19,lg:20}},[n("div",{staticClass:"el-header"},[n("div",{staticStyle:{float:"left"}},[n("span",{staticClass:"hidden-xs-only"},[e.menuAuth?n("el-button",{attrs:{size:"medium",icon:e.menuCollapse?"el-icon-arrow-right":"el-icon-arrow-left",circle:""},on:{click:function(t){e.menuCollapse=!e.menuCollapse}}}):e._e(),e._v("\n          现金贷管理系统\n        ")],1),e._v(" "),e.menuAuth?n("span",{staticClass:"hidden-sm-and-up"},[n("el-button",{attrs:{size:"medium",icon:e.menuShow?"el-icon-arrow-up":"fa fa-bars",circle:""},on:{click:function(t){e.menuCollapse=!0,e.menuShow=!e.menuShow}}})],1):e._e()]),e._v(" "),n("div",{staticStyle:{float:"right","text-align":"right"}},[n("el-dropdown",{attrs:{size:"small","split-button":"",type:e.Auth.login?"success":"primary","hide-timeout":1e3},on:{click:function(t){e.onAccountCommand(e.Auth.login?"toLogout":"toLogin")},command:e.onAccountCommand}},[e._v("\n          "+e._s(e.Auth.login?"退出":"登录")+"\n          "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.Auth.login?n("el-dropdown-item",{attrs:{command:"toChangePassword"}},[e._v("修改密码")]):e._e(),e._v(" "),e.Auth.login?e._e():n("el-dropdown-item",{attrs:{command:"toLogin"}},[e._v("登录")])],1)],1),e._v(" "),e.Env.mock?n("el-dropdown",[n("el-button",{attrs:{size:"small"}},[n("span",{staticClass:"hidden-xs-only"},[e._v("测试")]),e._v("引导"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),n("el-dropdown-menu",{staticStyle:{"background-color":"#2A3F54",color:"#fff",padding:"20px 24px 20px 0px","font-size":"14px"},attrs:{slot:"dropdown"},slot:"dropdown"},[e.DemoSetting.pageTips[e.selectedMenu]?n("span",{domProps:{innerHTML:e._s("<ul><li>"+e.DemoSetting.pageTips[e.selectedMenu].join("</li><br><li>")+"</li><ul/>")}}):n("span",{domProps:{innerHTML:e._s("<ul><li>"+e.DemoSetting.defaultPageTip.join("</li><br><li>")+"</li><ul/>")}})])],1):e._e(),e._v(" "),e.Env.mock?n("DemoLoginCtx",{ref:"demoLoginCtx",on:{submit:e.onDemoAuthCtxSubmit}}):e._e()],1),e._v(" "),n("div",{staticStyle:{clear:"both"}})]),e._v(" "),n("div",{staticClass:"el-main"},[e.mainFrameSrc?n("iframe",{attrs:{id:"mainframe",name:"mainframe",frameborder:"0",scrolling:"0",width:"100%",src:e.mainFrameSrc}}):n("h4",[e._v("欢迎使用风驰信贷-现金贷管理系统！")])])])],1)},staticRenderFns:[]};var A=n("VU/8")(b,x,!1,function(e){n("P8vl")},"data-v-6c6759de",null).exports;o.default.config.productionTip=!1,new o.default({el:"#page",components:{Page:A},template:"<Page/>"})},sfy8:function(e,t){},tvR6:function(e,t){},"v+tS":function(e,t,n){"use strict";var o=n("woOf"),s=n.n(o),r={systemId:"cashloan",component:"admin"},a={cins:{env:"cins",debug:!1,serverBase:{main:"/admin",adminuser:"/global/adminuser","loan.mgmt":"/cashloan/loan.mgmt","loan.report":"/cashloan/loan.report",instuff:"/cashloan/instuff",channel_report:"/cashloan/channel_report"},pageBase:{main:"/web",adminuser:"/global/adminuser/web","loan.mgmt":"/cashloan/loan.mgmt/web","loan.report":"/cashloan/loan.report/web",instuff:"/cashloan/instuff/web",eshop:"/cashloan/eshop/web",channel_report:"/cashloan/channel_report/web"},serverBaseInOneServer:function(e,t){var n={main:e+"/admin",adminuser:e+"/global/adminuser","loan.mgmt":e+"/cashloan/loan.mgmt","loan.report":e+"/cashloan/loan.report",instuff:e+"/cashloan/instuff",channel_report:e+"/cashloan/channel_report"};return t&&(n=s()(n,t)),n}},local:{env:"local",mock:!0,debug:!0,serverBase:{},pageBase:{main:"/cashloan",adminuser:"/adminuser","loan.mgmt":"/loan.mgmt","loan.report":"/loan.report",instuff:"/instuff",channel_report:"/channel_report",app:"http://localhost/cashloan/pages/"}}},i={local:a.local,cins:a.cins,prod:{env:"prod",debug:!1,serverBase:a.cins.serverBase,pageBase:s()({},a.cins.pageBase,{app:"http://hbt.wangluodaikuankouzi.com/pages/"})},uat:{env:"uat",debug:!1,serverBase:a.cins.serverBase,pageBase:s()({},a.cins.pageBase,{app:"http://47.99.163.162/cashloan/pages/"})},demo:{env:"demo",mock:!0,debug:!0,serverBase:{},pageBase:{main:"/demo",adminuser:"/global/adminuser/demo","loan.mgmt":"/cashloan/loan.mgmt/demo","loan.report":"/cashloan/loan.report/demo",instuff:"/cashloan/instuff/demo",eshop:"/cashloan/eshop/demo",channel_report:"/cashloan/channel_report/demo",app:"http://47.99.163.162/cashloan/pages/"}},dev:{env:"dev",debug:!0,stopSwitch:!0,serverBase:a.cins.serverBaseInOneServer("http://localhost:8101"),pageBase:a.local.pageBase},dev_uat:{env:"dev_uat",debug:!0,stopSwitch:!0,serverBase:a.cins.serverBaseInOneServer("http://47.99.163.162:8101"),pageBase:s()({},a.local.pageBase,{app:"http://47.99.163.162/cashloan/pages/"})},dev_prod:{env:"dev_prod",debug:!0,stopSwitch:!0,serverBase:a.cins.serverBaseInOneServer("http://47.99.163.162:8101"),pageBase:s()({},a.local.pageBase,{app:"http://47.99.163.162/cashloan/pages/"})}},l=document.body.dataset.env,u={syncParent:function(e){u.component!==e.component&&(e.serverBase.main=e.serverBase[u.component],e.serverBase.main||(e.serverBase.main=u.serverBase.main),u=s()(u,e))},switchEnv:function(e,t){if(!u.stopSwitch){var n=i[e];n||(n=i.local),u=s()(u,r,n),console.log("------------------ env ------------------ ["),console.log(e+" from "+t),console.log(u),console.log("------------------ env ------------------ ]")}}};u.switchEnv(l,"document.body.dataset"),t.a=u},xJbB:function(e,t,n){"use strict";const o=n("MVok").a.enumDef({NOT_LOGIN:[10001,"未登录"],URI_AUTH:[10002,"未授权"],DATA_AUTH:[10003,"未授权"],KICKED_OUT:[10004,"其他地方登录"],PAGE_AUTH:[10005,"未授权"]}),s={checkAuth:!0,defaultNotLoginHandler:function(){},defaultNoPageAuthHandler:function(){}};const r=new class{constructor(){this.ERROR_MODULE="adminauthpage",this.ErrorCode=o,this.login=!1,this._loginCtx=null,this.systemId=null,this.component=null,this._options=Object.assign({},s)}init(e,t,n){this.systemId=e,this.component=t,n&&(this._options=Object.assign(this._options,n))}options(e){if(void 0===e)return this._options;this._options=Object.assign(this._options,e)}setSystemComponent(e,t){this.systemId=e,this.component=t}setLoginCtx(e,t){this._loginCtx=e,this._pageConfigs=t,this.login=!!this._loginCtx}getLoginCtx(){return this._loginCtx}isLogin(){return!!this._loginCtx}_hasAuth(e){if(!this._options.checkAuth)return!0;if(!this._loginCtx)return!1;if(!e)return!0;if("[object Array]"!==Object.prototype.toString.call(e)&&(e=e.toString().split(",")),0===e.length)return!0;for(var t=!1,n=0;n<e.length;n++)this._loginCtx.authorityKeys.indexOf(e[n])>=0&&(t=!0);return t}hasAuth(e){return this._hasAuth(e)}hasPageAuth(){return!!this.isLogin()&&!(!this._pageConfigs||!this._pageConfigs.page)}checkPageAuth(e,t){return e||(e=this._options.defaultNotLoginHandler),t||(t=this._options.defaultNoPageAuthHandler),this.isLogin()?!!this.hasPageAuth()||(t&&t(),!1):(e&&e(),!1)}config(e){return!1!==this.hasPageAuth()&&this._pageConfigs[e]}httpHeaders(){var e={};return this._loginCtx&&(this._loginCtx.sessionId?(e["Admin.Authority.Token."+this.systemId]=this._loginCtx.sessionId,"adminuser"===this.component&&(e["AdminUser.Auth.SystemId"]=this.systemId)):(e["Admin.Authority.Ctx"]=JSON.stringify(this._loginCtx.demoAuthCtx),"adminuser"===this.component&&(e["AdminUser.Auth.SystemId"]=this.systemId))),e}setPageAuthConfigs(e){this._pageAuthConfigs=e}getForbiddenPages(){let e={};for(let t in this._pageAuthConfigs){e[t]=!0;let n=this._pageAuthConfigs[t];for(let o in n)this._hasAuth(o)&&(e[t]=!1)}return e}getPageConfigs(e){let t=this._pageAuthConfigs[e];if(!t)return null;let n=null;for(let e in t)this._hasAuth(e)&&(null===n&&(n={page:!0}),n=Object.assign(n,t[e]));return n}};t.a=r}},["qQ5+"]);
//# sourceMappingURL=index.js.map